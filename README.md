# Towards Genre Classification in the Library Catalog

Data and source code for our contribution to [QURATOR 2021](https://qurator.ai/conference-qurator-2021/):

Andreas Lüschow and José Calvo Tello: Towards Genre Classification in the Library Catalog

## Abstract
"Library catalogs usually do not contain explicit information about the genre of literary works. However, both for readers and for researchers this information can be useful, e.g, when it comes to creating research corpora based on genre. In this proposal, we offer a first analysis about how genre information has been integrated in catalogs to date, train several algorithms to classify annotated instances and contrast the results to the fields from the library catalogs used as features. Our study is based on data sets from the union catalog (GVK) of the German Common Library Network (GBV)." 

## GND Genres
- `./data/gnd/gnd_literaturgattungen.txt`: 1,319 Literaturgattungen/Genres (GND-Systematik 12.3),
manually extracted from the Online GND ([OGND](http://swb.bsz-bw.de/DB=2.104/SET=2/TTL=1/START_WELCOME)) in November 2020. 
- `./data/gnd/gnd_genres.json`: dictionary of GND genre labels mapped to their GND ID and K10plusPPN: 
    ```
    {
        "Roman": {
        {
            "K10plusPPN": "104137673",
            "GND-Nummer": "4050479-7"
        },
        [...]
    }
    ```
- `./data/gnd/gnd_genres_ppn.txt`: simple list (one entry per line) of all 1,319 GND genre identifiers (so-called "PPN"); needed for querying SRU API
- `./data/gnd/gnd_genres_count.json`: dictionary that maps genre PPN to number of catalog data sets in the GVK linked to this genre
- `./data/gnd/genres.txt`: list of all 1,139 genres that have at least 1 bibliographic record assigned

## Catalog data / Bibliographic data
This study is based on 746,786 bibliographic records obtained from the GVK (Gemeinsamer Verbundkatalog) via its SRU endpoint: https://verbundwiki.gbv.de/display/VZG/SRU.
Bibliographic records were collected by querying the SRU endpoint for all records associated with a literary genre from the GND (see above). 

## Analyzing title data
- `./data/gnd/fields.txt`: list of all Pica+ fields in the data that contain genre information

Generated by `./code/gnd_genres/analyze_df_fields.ipynb`:
- `./data/gnd/field_info_df.csv`: contains statistics and info for each Pica+ genre field (such as number of NaN values, genres that appear in this field etc.)
- `./data/gnd/genre_info_df.csv`: contains statistics and info for each genre (e.g., field in which each genre occurs most, relative occurrence for each field)

- `./data/gnd/genre_mapping.txt`: mapping of original genres to main genres

## Scripts
- `./code/gnd_genres/add_genre_column.ipynb`: Take original catalog data, get genre labels, add columns for original genre and mapped genre
- `./code/gnd_genres/visualize.ipynb`: Visualize genre distribution
- `./code/gnd_genres/machine_learning.ipynb`: Conduct the machine learning  